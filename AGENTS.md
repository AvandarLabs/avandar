# Agent Rules

## Documentation

- Refer to `package.json` for the most recent library versions
- Refer to the root `README.md` for the repo description and other conventions.
- Use Context7 MCP to reference the most up-to-date documentation of any
  library when you need it.

## Scope

- Only implement what is requested. Do not fix other bugs, clean up any other
  code, or do any refactors outside of what you were specifically asked to do.
- Only modify the files or directories that you are told to work on.
- If you absolutely must make modifications outside of the scope of
  files/directories you were told, then output a list of the files you changed
  that were outside of the requested scope of files. Include a 1-sentence
  explanation for each file about what changed.

## Architecture

- Follow the repository pattern

## Code style

- Follow existing conventions and styles.

## React

- Only one React component per file.
- Split up components into logical sub-components. Avoid monolithic components.
- Use either our internal UI library in `src/lib/ui` or Mantine components.
  Do not build new core UI elements from scratch unless specifically asked to.

## CSS styling

When styling components, use the following approaches, in the priority given.
Only use a lower priority approach when the higher priority methods does not
have the flexibility you need.

1. Use Mantine's style prop shorthands (e.g. `c`, `mt`, `pd`, `bg`, `bd`, `bdrs`,
   . etc.) as much as possible.
   - This also applies to responsive designs. We use Mantine's breakpoints and
     `hiddenFrom` and `visibleFrom` props when necessary.
     Only use Tailwind when something cannot be styled using Mantine directly.
2. Use Mantine's `classNames` prop with Tailwind classes. Use Context7 to look
   up the component's selectors for the `classNames` object. Use the `clsx`
   for conditional classes.
3. Use Tailwind classes directly in a `className` prop. Use the `clsx` library
   for conditional classes.
4. Use `.css` modules and import the CSS into the component.
5. Use the `style` or `styles` prop with an object or a function (whose argument
   is the Mantine theme object) that returns an object. Only use this when we
   need to dynamically compute styles.

## Files to ignore

- Any files of the form `*.gen.*` are autogenerated and should never be manually
  edited.

## Modes

If the instruction specifies a mode type then also follow these specific
instructions.

### UI-only mode

- Do not implement any business logic.
- **ONLY** implement the UI
- Create placeholder functions for where business logic should go, but do not
  implement them.
- If `notifyDevAlert` exists in this codebase, use that as your placeholder
  implementation for business logic. Otherwise, just use `console.log`.

### TDD mode

- Only implement tests.
- It is okay if none of the tests pass.
- Make sure that any failures aren't due to bugs in the tests themselves.
- Output a list of tests you created with a succinct description of each,
  max 1 sentence.
